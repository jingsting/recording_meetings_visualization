<!DOCTYPE html>
<head>

</head>
<body>
    <script src="https://d3js.org/d3.v4.min.js"></script>
    <script>
        var data =  [
        {"id": 0, "participantSpeak": 0, "participantTimeTotal": 0, "participantTimeTemp": 0},
        {"id": 1, "participantSpeak": 0, "participantTimeTotal": 0, "participantTimeTemp": 0},
        {"id": 2, "participantSpeak": 0, "participantTimeTotal": 0, "participantTimeTemp": 0},
        {"id": 3, "participantSpeak": 0, "participantTimeTotal": 0, "participantTimeTemp": 0},
        {"id": 4, "participantSpeak": 0, "participantTimeTotal": 0, "participantTimeTemp": 0},
        {"id": 5, "participantSpeak": 0, "participantTimeTotal": 0, "participantTimeTemp": 0}
    ]

    // arbitrarily sets width, height, and diameter
    var width = 750;
    var height = 750;
    var radius = 200;
    var x = [], y = [];

    var alpha = ["A", "B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L", "M", "N", "O", "P", "Q", "R", "S", "T", "U", "V", "W", "X", "Y", "Z"];

    //http://bl.ocks.org/jfreyre/b1882159636cc9e1283a
    var colors = d3.scaleLinear().domain([1,50])
                    .interpolate(d3.interpolateHcl)
                    .range([d3.rgb("#FFFFFF"), d3.rgb('#191970')])

    var tooltip = d3.select("body")
                        .append("div")
                        .style("position", "absolute")
                        .style("z-index", "10")
                        .style("visibility", "hidden")
                        .style("color", "white")
                        .style("padding", "8px")
                        .style("background-color", "rgba(0, 0, 0, 0.50)")
                        .style("border-radius", "6px")
                        .style("font", "12px sans-serif")
                        .text("tooltip");

    var svgContainer = d3.select("body")
                        .append("svg")
                        .attr("width", width)
                        .attr("height", height)
                        .style("border", "1px solid black");

    var circle = svgContainer.selectAll("circle")
                            .data(data)
                            .enter()
                            .append("circle")
                            .attr("cx", function(d) {
                                var angle = (d.id / (data.length/2)) * Math.PI;
                                x[d.id] = (radius * Math.cos(angle)) + (width/2);
                                return x[d.id];
                            })
                            .attr("cy", function(d) {
                                var angle = (d.id / (data.length/2)) * Math.PI;
                                y[d.id] = (radius * Math.sin(angle)) + (width/2);
                                return y[d.id];
                                
                            })
                            .attr("r", 25)
                            .attr("id", function(d) {return d.id; })
                            .style("stroke", "black")
                            .style("fill",colors(0))
                            .style("outline", "black")
                            .on("mouseover", function(d) {
                                return tooltip.text("Times Spoken: " + d.participantSpeak + " Total Time: "  + d.participantTimeTotal + " seconds")
                                            .style("visibility", "visible");
                            })
                            .on("mousemove", function() {
                                return tooltip.style("top", (d3.event.pageY-10)+"px")
                                            .style("left",(d3.event.pageX+10)+"px");
                            })
                            .on("mouseout", function() {
                                return tooltip.style("visibility", "hidden");
                            })

    var text = svgContainer.selectAll("text")
                            .data(data)
                            .enter()
                            .append("text")
                            .text(function(d) { return alpha[d.id]; })
                            .attr("x", function(d) {return x[d.id]; })
                            .attr("y", function(d) {return y[d.id] + 6; })
                            .attr("font-family", "san-serif")
                            .attr("font-size", "20px")
                            .attr("fill", "black")
                            .attr("text-anchor", "middle")
                            .on("mouseover", function(d) {
                                return tooltip.text("Times Spoken: " + d.participantSpeak + " Total Time: "  + d.participantTimeTotal + " seconds")
                                            .style("visibility", "visible");
                            })
                            .on("mousemove", function() {
                                return tooltip.style("top", (d3.event.pageY-10)+"px")
                                            .style("left",(d3.event.pageX+10)+"px");
                            })
                            .on("mouseout", function() {
                                return tooltip.style("visibility", "hidden");
                            })

    

    // function currently(id, timesec) {
    //     data[id].participantSpeak++;
    //     data[id].participantTimeTotal += timesec;

    //     circle[id].style("stroke", "red")
    //             .style("stroke-width", "5px")


    // }
    
    </script>

</body>

